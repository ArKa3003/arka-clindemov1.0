@import "tailwindcss";

:root {
  --background: #ffffff;
  --foreground: #171717;
}

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);
}

@media (prefers-color-scheme: dark) {
  :root {
    --background: #0a0a0a;
    --foreground: #ededed;
  }
}

body {
  background: var(--background);
  color: var(--foreground);
  font-family: Arial, Helvetica, sans-serif;
  font-size: 16px; /* Base font size for clinical usability */
  line-height: 1.5;
}

/* Font size classes for accessibility toggle */
/* Font size classes for accessibility toggle */
.font-size-normal {
  font-size: 16px;
}

.font-size-large {
  font-size: 18px;
}

.font-size-extra-large {
  font-size: 20px;
}

/* Scale font sizes based on root font size */
.font-size-large input,
.font-size-large select,
.font-size-large textarea,
.font-size-large button {
  font-size: 18px !important;
}

.font-size-extra-large input,
.font-size-extra-large select,
.font-size-extra-large textarea,
.font-size-extra-large button {
  font-size: 20px !important;
}

/* Ensure proper scaling for all text elements */
.font-size-large * {
  font-size: inherit;
}

.font-size-extra-large * {
  font-size: inherit;
}

/* Mobile optimizations */
@media (max-width: 640px) {
  /* Prevent horizontal overflow */
  body {
    overflow-x: hidden;
    max-width: 100vw;
  }
  
  /* Ensure containers don't exceed viewport width */
  main, header, footer {
    max-width: 100%;
    overflow-x: hidden;
  }
  
  /* Smooth scrolling for horizontal scroll */
  .overflow-x-auto {
    -webkit-overflow-scrolling: touch;
    scrollbar-width: none; /* Firefox */
    -ms-overflow-style: none; /* IE and Edge */
  }
  
  .overflow-x-auto::-webkit-scrollbar {
    display: none; /* Chrome, Safari, Opera */
  }
  
  /* Prevent text size adjustment on iOS */
  input,
  select,
  textarea {
    font-size: 16px !important; /* Prevents zoom on iOS */
  }
  
  /* Ensure navigation wraps and doesn't overflow */
  nav {
    flex-wrap: wrap;
    gap: 0.5rem;
  }
  
  /* Prevent navigation button text from breaking layout */
  nav button, nav a {
    word-break: keep-all;
    max-width: 100%;
  }
}

/* Form input text visibility fixes */
input,
select,
textarea {
  color: #111827 !important; /* gray-900 - WCAG AA contrast: 13.8:1 */
  font-size: 16px !important; /* Minimum 16px for clinical usability and prevents iOS zoom */
}

::placeholder {
  color: #6b7280 !important; /* gray-500 */
  opacity: 1;
}

input::placeholder,
textarea::placeholder {
  color: #6b7280 !important;
  opacity: 1;
}

/* Pulsing animation for inappropriate indicators */
@keyframes pulse-red {
  0%, 100% {
    opacity: 1;
    transform: scale(1);
    box-shadow: 0 0 0 0 rgba(239, 68, 68, 0.7);
  }
  50% {
    opacity: 0.9;
    transform: scale(1.05);
    box-shadow: 0 0 0 10px rgba(239, 68, 68, 0);
  }
}

.animate-pulse-red {
  animation: pulse-red 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
}

/* Colorblind Accessibility: Distinct Shapes */
.clip-triangle {
  clip-path: polygon(50% 0%, 0% 100%, 100% 100%);
  -webkit-clip-path: polygon(50% 0%, 0% 100%, 100% 100%);
}

.clip-octagon {
  clip-path: polygon(30% 0%, 70% 0%, 100% 30%, 100% 70%, 70% 100%, 30% 100%, 0% 70%, 0% 30%);
  -webkit-clip-path: polygon(30% 0%, 70% 0%, 100% 30%, 100% 70%, 70% 100%, 30% 100%, 0% 70%, 0% 30%);
}

/* Striped pattern for yellow indicator (colorblind accessibility) */
.pattern-stripes-yellow {
  background-image: repeating-linear-gradient(
    45deg,
    transparent,
    transparent 10px,
    rgba(0, 0, 0, 0.1) 10px,
    rgba(0, 0, 0, 0.1) 20px
  );
}

/* High Contrast / Dark Mode */
.high-contrast {
  --contrast-multiplier: 1.5;
}

/* Dark Mode - Black background, white text */
html.high-contrast,
html.high-contrast body {
  background-color: #000000 !important;
  color: #ffffff !important;
}

/* Apply dark background to main containers and common Tailwind classes */
html.high-contrast .min-h-screen,
html.high-contrast > div,
html.high-contrast .bg-gray-100,
html.high-contrast .bg-gray-50 {
  background-color: #000000 !important;
  color: #ffffff !important;
}

/* Override specific background colors */
html.high-contrast .bg-white,
html.high-contrast .bg-gray-50,
html.high-contrast .bg-gray-100 {
  background-color: #1a1a1a !important;
  color: #ffffff !important;
}

html.high-contrast .bg-gray-200 {
  background-color: #2a2a2a !important;
  color: #ffffff !important;
}

html.high-contrast .bg-blue-50,
html.high-contrast .bg-blue-100 {
  background-color: #1a1a3a !important;
  color: #ffffff !important;
}

html.high-contrast .bg-amber-50 {
  background-color: #3a2a1a !important;
  color: #ffffff !important;
}

html.high-contrast .bg-red-50 {
  background-color: #3a1a1a !important;
  color: #ffffff !important;
}

/* Text colors - use html.high-contrast for better specificity */
html.high-contrast .text-gray-900,
html.high-contrast .text-gray-800,
html.high-contrast .text-gray-700,
html.high-contrast .text-gray-600,
html.high-contrast h1,
html.high-contrast h2,
html.high-contrast h3,
html.high-contrast h4,
html.high-contrast p,
html.high-contrast span,
html.high-contrast div {
  color: #ffffff !important;
}

html.high-contrast .text-gray-500 {
  color: #cccccc !important;
}

html.high-contrast .text-gray-400 {
  color: #aaaaaa !important;
}

/* Borders */
html.high-contrast .border-gray-200,
html.high-contrast .border-gray-300 {
  border-color: #444444 !important;
}

html.high-contrast .border-gray-400 {
  border-color: #666666 !important;
}

/* Input fields */
html.high-contrast input,
html.high-contrast select,
html.high-contrast textarea {
  background-color: #1a1a1a !important;
  color: #ffffff !important;
  border-color: #666666 !important;
}

html.high-contrast input::placeholder,
html.high-contrast textarea::placeholder {
  color: #888888 !important;
}

/* Buttons */
html.high-contrast .bg-blue-600 {
  background-color: #0066cc !important;
}

html.high-contrast .bg-blue-700 {
  background-color: #0052a3 !important;
}

/* Traffic light colors (keep visible but adjust) */
html.high-contrast .bg-teal-500 {
  background-color: #0d9488 !important; /* Darker teal */
}

html.high-contrast .bg-yellow-400 {
  background-color: #f59e0b !important; /* Darker amber */
}

html.high-contrast .bg-red-600 {
  background-color: #dc2626 !important; /* Darker red */
}

html.high-contrast .border-teal-700 {
  border-color: #0f766e !important;
}

html.high-contrast .border-yellow-600 {
  border-color: #d97706 !important;
}

html.high-contrast .border-red-800 {
  border-color: #991b1b !important;
}

/* Links */
html.high-contrast a {
  color: #66b3ff !important;
}

html.high-contrast a:hover {
  color: #99ccff !important;
}

/* Shadows - make them visible in dark mode */
html.high-contrast .shadow-sm,
html.high-contrast .shadow {
  box-shadow: 0 1px 2px 0 rgba(255, 255, 255, 0.1) !important;
}

html.high-contrast .shadow-lg {
  box-shadow: 0 10px 15px -3px rgba(255, 255, 255, 0.1) !important;
}

/* Smooth Transitions & Animations */
* {
  transition-property: color, background-color, border-color, opacity, transform;
  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
  transition-duration: 200ms;
}

/* Fade-in animation for results */
@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.animate-in {
  animation: fadeIn 0.3s ease-out;
}

.fade-in {
  animation: fadeIn 0.3s ease-out;
}

/* Smooth hover transitions */
button, a, .hover-transition {
  transition: all 0.2s ease-in-out;
}

button:hover, a:hover {
  transition: all 0.2s ease-in-out;
}

/* Splash Screen Animations */
@keyframes float {
  0%, 100% {
    transform: translateY(0px);
  }
  50% {
    transform: translateY(-15px);
  }
}

@keyframes pulse-fade {
  0%, 100% {
    opacity: 0.6;
  }
  50% {
    opacity: 1;
  }
}

.splash-float {
  animation: float 3s ease-in-out infinite;
}

.splash-pulse {
  animation: pulse-fade 2s ease-in-out infinite;
}

/* Consistent spacing scale */
.space-section {
  margin-bottom: 1.5rem; /* 24px */
}

.space-section-lg {
  margin-bottom: 2rem; /* 32px */
}

.space-section-xl {
  margin-bottom: 3rem; /* 48px */
}

/* Consistent padding scale */
.padding-card {
  padding: 1rem; /* 16px */
}

@media (min-width: 640px) {
  .padding-card {
    padding: 1.5rem; /* 24px */
  }
}

@media (min-width: 1024px) {
  .padding-card {
    padding: 2rem; /* 32px */
  }
}
